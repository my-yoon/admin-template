{"remainingRequest":"/Users/zzou/Documents/project/2020/brabbit-admin-template/node_modules/babel-loader/lib/index.js!/Users/zzou/Documents/project/2020/brabbit-admin-template/node_modules/ts-loader/index.js??ref--13-2!/Users/zzou/Documents/project/2020/brabbit-admin-template/src/helper/api/1.0.0/Auth.ts","dependencies":[{"path":"/Users/zzou/Documents/project/2020/brabbit-admin-template/src/helper/api/1.0.0/Auth.ts","mtime":1591668793119},{"path":"/Users/zzou/Documents/project/2020/brabbit-admin-template/node_modules/cache-loader/dist/cjs.js","mtime":1582363961748},{"path":"/Users/zzou/Documents/project/2020/brabbit-admin-template/node_modules/babel-loader/lib/index.js","mtime":1585275399303},{"path":"/Users/zzou/Documents/project/2020/brabbit-admin-template/node_modules/ts-loader/index.js","mtime":1585276838680}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvenpvdS9Eb2N1bWVudHMvcHJvamVjdC8yMDIwL2JyYWJiaXQtYWRtaW4tdGVtcGxhdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMvenpvdS9Eb2N1bWVudHMvcHJvamVjdC8yMDIwL2JyYWJiaXQtYWRtaW4tdGVtcGxhdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvVXNlcnMvenpvdS9Eb2N1bWVudHMvcHJvamVjdC8yMDIwL2JyYWJiaXQtYWRtaW4tdGVtcGxhdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IENvbW1BcGkgZnJvbSAnLi4vQ29tbUFwaSc7Cgp2YXIgcXMgPSByZXF1aXJlKCdxdWVyeXN0cmluZycpOwoKdmFyIEF1dGggPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21tQXBpKSB7CiAgX2luaGVyaXRzKEF1dGgsIF9Db21tQXBpKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihBdXRoKTsKCiAgZnVuY3Rpb24gQXV0aCgpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXV0aCk7CgogICAgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgLy8gZGVmYXVsdCByZXF1ZXN0IGNvbmZpZyBmb3IgQXV0aAoKICAgIF90aGlzLmNvbmZpZyA9IHsKICAgICAgaGVhZGVyczogewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywKICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCYXNpYyBiWGxCY0hBNmNHRnpjdz09JwogICAgICB9CiAgICB9OwogICAgLyoqCiAgICAgKiDroZzqt7jsnbggKO2GoO2BsCDsmpTssq0pCiAgICAgKi8KCiAgICBfdGhpcy5nZXRBdXRoVG9rZW4gPSBmdW5jdGlvbiAoaWQsIHB3ZCkgewogICAgICB2YXIgc2VuZERhdGEgPSB7CiAgICAgICAgdXNlcm5hbWU6IGlkLAogICAgICAgIHBhc3N3b3JkOiBwd2QsCiAgICAgICAgZ3JhbnRfdHlwZTogJ3Bhc3N3b3JkJwogICAgICB9OwogICAgICByZXR1cm4gX3RoaXMucG9zdCgnL2FkbWluL3YxL2xvZ2luJywgcXMuc3RyaW5naWZ5KHNlbmREYXRhKSwgX3RoaXMuY29uZmlnKTsKICAgIH07CiAgICAvKioKICAgICAqIOuhnOq3uOyduCAo7Yag7YGwIOqwseyLoCkKICAgICAqLwoKCiAgICBfdGhpcy5nZXRBdXRoVG9rZW5XaXRoUmVmcmVzaFRva2VuID0gZnVuY3Rpb24gKHJlZnJlc2hUb2tlbikgewogICAgICB2YXIgc2VuZERhdGEgPSB7CiAgICAgICAgZ3JhbnRfdHlwZTogJ3JlZnJlc2hfdG9rZW4nLAogICAgICAgIHJlZnJlc2hfdG9rZW46IHJlZnJlc2hUb2tlbgogICAgICB9OwogICAgICByZXR1cm4gX3RoaXMucG9zdCgnL2FkbWluL3YxL2xvZ2luJywgcXMuc3RyaW5naWZ5KHNlbmREYXRhKSwgX3RoaXMuY29uZmlnKTsKICAgIH07CgogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgcmV0dXJuIEF1dGg7Cn0oQ29tbUFwaSk7CgpleHBvcnQgeyBBdXRoIGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["/Users/zzou/Documents/project/2020/brabbit-admin-template/src/helper/api/1.0.0/Auth.ts"],"names":[],"mappings":";;;AAAA,OAAO,OAAP,MAAoB,YAApB;;AAGA,IAAM,EAAE,GAAG,OAAO,CAAC,aAAD,CAAlB;;IAEqB,I;;;;;AAArB,kBAAA;AAAA;;AAAA;;0CAAA,CACE;;AACQ,UAAA,MAAA,GAA6B;AACnC,MAAA,OAAO,EAAE;AACP,wBAAgB,mCADT;AAEP,yBAAiB;AAFV;AAD0B,KAA7B;AAOR;;;;AAGA,UAAA,YAAA,GAAe,UAAC,EAAD,EAAa,GAAb,EAAyD;AACtE,UAAM,QAAQ,GAAG;AACf,QAAA,QAAQ,EAAE,EADK;AAEf,QAAA,QAAQ,EAAE,GAFK;AAGf,QAAA,UAAU,EAAE;AAHG,OAAjB;AAKA,aAAO,MAAK,IAAL,CAAU,iBAAV,EAA6B,EAAE,CAAC,SAAH,CAAa,QAAb,CAA7B,EAAqD,MAAK,MAA1D,CAAP;AACD,KAPD;AAQA;;;;;AAGA,UAAA,4BAAA,GAA+B,UAAC,YAAD,EAAsD;AACnF,UAAM,QAAQ,GAAG;AACf,QAAA,UAAU,EAAE,eADG;AAEf,QAAA,aAAa,EAAE;AAFA,OAAjB;AAIA,aAAO,MAAK,IAAL,CAAU,iBAAV,EAA6B,EAAE,CAAC,SAAH,CAAa,QAAb,CAA7B,EAAqD,MAAK,MAA1D,CAAP;AACD,KAND;;AAvBF;AA8BC;;;EA9BiC,O;;SAAb,I","sourcesContent":["import CommApi from '../CommApi'\nimport { AxiosResponse, AxiosRequestConfig } from 'axios'\n\nconst qs = require('querystring')\n\nexport default class Auth extends CommApi {\n  // default request config for Auth\n  private config: AxiosRequestConfig = {\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n      'Authorization': 'Basic bXlBcHA6cGFzcw=='\n    }\n  }\n\n  /**\n   * 로그인 (토큰 요청)\n   */\n  getAuthToken = (id: string, pwd: string): Promise<AxiosResponse<any>> => {\n    const sendData = {\n      username: id,\n      password: pwd,\n      grant_type: 'password'\n    }\n    return this.post('/admin/v1/login', qs.stringify(sendData), this.config)\n  }\n  /**\n   * 로그인 (토큰 갱신)\n   */\n  getAuthTokenWithRefreshToken = (refreshToken: string): Promise<AxiosResponse<any>> => {\n    const sendData = {\n      grant_type: 'refresh_token',\n      refresh_token: refreshToken\n    }\n    return this.post('/admin/v1/login', qs.stringify(sendData), this.config)\n  }\n}\n"],"sourceRoot":""}]}