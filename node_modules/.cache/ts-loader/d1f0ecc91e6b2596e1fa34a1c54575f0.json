{"remainingRequest":"/Users/zzou/Documents/project/2020/brabbit-admin-template/node_modules/babel-loader/lib/index.js!/Users/zzou/Documents/project/2020/brabbit-admin-template/node_modules/ts-loader/index.js??ref--13-2!/Users/zzou/Documents/project/2020/brabbit-admin-template/src/helper/api/CommApi.ts","dependencies":[{"path":"/Users/zzou/Documents/project/2020/brabbit-admin-template/src/helper/api/CommApi.ts","mtime":1591668793119},{"path":"/Users/zzou/Documents/project/2020/brabbit-admin-template/node_modules/cache-loader/dist/cjs.js","mtime":1582363961748},{"path":"/Users/zzou/Documents/project/2020/brabbit-admin-template/node_modules/babel-loader/lib/index.js","mtime":1585275399303},{"path":"/Users/zzou/Documents/project/2020/brabbit-admin-template/node_modules/ts-loader/index.js","mtime":1585276838680}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvenpvdS9Eb2N1bWVudHMvcHJvamVjdC8yMDIwL2JyYWJiaXQtYWRtaW4tdGVtcGxhdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvenpvdS9Eb2N1bWVudHMvcHJvamVjdC8yMDIwL2JyYWJiaXQtYWRtaW4tdGVtcGxhdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwoKdmFyIENvbW1BcGkgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIENvbW1BcGkoX2JpekF4aW9zKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb21tQXBpKTsKCiAgICAvKioKICAgICAqIGNhbGwgYXhpb3MgYnkgZ2V0IG1ldGhvZAogICAgICovCiAgICB0aGlzLmdldCA9IGZ1bmN0aW9uICh1cmwsIHBhcmFtLCByZXFDb25maWcpIHsKICAgICAgLy8gLS0tIGRlZmF1bHQgY29uZmlnCiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgcGFyYW1zOiBwYXJhbSwKICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKICAgICAgfTsKCiAgICAgIGlmIChjb25maWcpIHsKICAgICAgICBPYmplY3QuYXNzaWduKGNvbmZpZywgcmVxQ29uZmlnKTsKICAgICAgfQoKICAgICAgcmV0dXJuIF90aGlzLmJpekF4aW9zLmdldCh1cmwsIGNvbmZpZyk7CiAgICB9OwogICAgLyoqCiAgICAgKiBjYWxsIGF4aW9zIGJ5IHBvc3QgbWV0aG9kCiAgICAgKi8KCgogICAgdGhpcy5wb3N0ID0gZnVuY3Rpb24gKHVybCwgcGFyYW0sIHJlcUNvbmZpZykgewogICAgICAvLyAtLS0gZGVmYXVsdCBjb25maWcKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKICAgICAgfTsKCiAgICAgIGlmIChjb25maWcpIHsKICAgICAgICBPYmplY3QuYXNzaWduKGNvbmZpZywgcmVxQ29uZmlnKTsKICAgICAgfQoKICAgICAgcmV0dXJuIF90aGlzLmJpekF4aW9zLnBvc3QodXJsLCBwYXJhbSwgY29uZmlnKTsKICAgIH07CiAgICAvKioKICAgICAqIGNhbGwgYXhpb3MgYnkgcHV0IG1ldGhvZAogICAgICovCgoKICAgIHRoaXMucHV0ID0gZnVuY3Rpb24gKHVybCwgcGFyYW0sIHJlcUNvbmZpZykgewogICAgICAvLyAtLS0gZGVmYXVsdCBjb25maWcKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKICAgICAgfTsKCiAgICAgIGlmIChjb25maWcpIHsKICAgICAgICBPYmplY3QuYXNzaWduKGNvbmZpZywgcmVxQ29uZmlnKTsKICAgICAgfQoKICAgICAgcmV0dXJuIF90aGlzLmJpekF4aW9zLnB1dCh1cmwsIHBhcmFtLCBjb25maWcpOwogICAgfTsKICAgIC8qKgogICAgICogY2FsbCBheGlvcyBieSBkZWxldGUgbWV0aG9kCiAgICAgKi8KCgogICAgdGhpcy5kZWxldGUgPSBmdW5jdGlvbiAodXJsLCBwYXJhbSwgcmVxQ29uZmlnKSB7CiAgICAgIC8vIC0tLSBkZWZhdWx0IGNvbmZpZwogICAgICB2YXIgY29uZmlnID0gewogICAgICAgIHdpdGhDcmVkZW50aWFsczogdHJ1ZQogICAgICB9OwoKICAgICAgaWYgKGNvbmZpZykgewogICAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnLCByZXFDb25maWcpOwogICAgICB9CgogICAgICByZXR1cm4gX3RoaXMuYml6QXhpb3MuZGVsZXRlKHVybCwgY29uZmlnKTsKICAgIH07CgogICAgdGhpcy5iaXpBeGlvcyA9IF9iaXpBeGlvczsKICB9CiAgLyoqCiAgKiDtgbTrnpjsnbTtlIwgQXhpb3Mg6riw67O4IOyEpOyglQogICovCgoKICBfY3JlYXRlQ2xhc3MoQ29tbUFwaSwgW3sKICAgIGtleTogImdldENvbmZpZ0ZvckNsYXlmdWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbmZpZ0ZvckNsYXlmdWwoKSB7CiAgICAgIHZhciBkZWZhdWx0Q29uZmlnID0gewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICJCZWFyZXIgIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9DTEFZRlVMX0FVVEgpCiAgICAgICAgfQogICAgICB9OwogICAgICByZXR1cm4gVnVlLl8ubWVyZ2UoZGVmYXVsdENvbmZpZywgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdBdXRob3JpemF0aW9uLUN1c3RvbWVyJzogcHJvY2Vzcy5lbnYuVlVFX0FQUF9DTEFZRlVMX0FETUlOX0lECiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBDb21tQXBpOwp9KCk7CgpleHBvcnQgeyBDb21tQXBpIGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["/Users/zzou/Documents/project/2020/brabbit-admin-template/src/helper/api/CommApi.ts"],"names":[],"mappings":";;AACA,OAAO,GAAP,MAAgB,KAAhB;;IAEqB,O;AAEnB,mBAAa,SAAb,EAAqC;AAAA;;AAAA;;AAIrC;;;AAGA,SAAA,GAAA,GAAM,UAAC,GAAD,EAAc,KAAd,EAA2B,SAA3B,EAA0F;AAC9F;AACA,UAAM,MAAM,GAAuB;AACjC,QAAA,MAAM,EAAE,KADyB;AAEjC,QAAA,eAAe,EAAE;AAFgB,OAAnC;;AAIA,UAAI,MAAJ,EAAY;AACV,QAAA,MAAM,CAAC,MAAP,CAAc,MAAd,EAAsB,SAAtB;AACD;;AACD,aAAO,KAAI,CAAC,QAAL,CAAc,GAAd,CAAkB,GAAlB,EAAuB,MAAvB,CAAP;AACD,KAVD;AAYA;;;;;AAGA,SAAA,IAAA,GAAO,UAAC,GAAD,EAAc,KAAd,EAA2B,SAA3B,EAAgG;AACrG;AACA,UAAM,MAAM,GAAuB;AACjC,QAAA,eAAe,EAAE;AADgB,OAAnC;;AAGA,UAAI,MAAJ,EAAY;AACV,QAAA,MAAM,CAAC,MAAP,CAAc,MAAd,EAAsB,SAAtB;AACD;;AACD,aAAO,KAAI,CAAC,QAAL,CAAc,IAAd,CAAmB,GAAnB,EAAwB,KAAxB,EAA+B,MAA/B,CAAP;AACD,KATD;AAUA;;;;;AAGA,SAAA,GAAA,GAAM,UAAC,GAAD,EAAc,KAAd,EAA2B,SAA3B,EAAgG;AACpG;AACA,UAAM,MAAM,GAAuB;AACjC,QAAA,eAAe,EAAE;AADgB,OAAnC;;AAGA,UAAI,MAAJ,EAAY;AACV,QAAA,MAAM,CAAC,MAAP,CAAc,MAAd,EAAsB,SAAtB;AACD;;AACD,aAAO,KAAI,CAAC,QAAL,CAAc,GAAd,CAAkB,GAAlB,EAAuB,KAAvB,EAA8B,MAA9B,CAAP;AACD,KATD;AAUA;;;;;AAGA,SAAA,MAAA,GAAS,UAAC,GAAD,EAAc,KAAd,EAA2B,SAA3B,EAAgG;AACvG;AACA,UAAM,MAAM,GAAuB;AACjC,QAAA,eAAe,EAAE;AADgB,OAAnC;;AAGA,UAAI,MAAJ,EAAY;AACV,QAAA,MAAM,CAAC,MAAP,CAAc,MAAd,EAAsB,SAAtB;AACD;;AACD,aAAO,KAAI,CAAC,QAAL,CAAc,MAAd,CAAqB,GAArB,EAA0B,MAA1B,CAAP;AACD,KATD;;AA/CE,SAAK,QAAL,GAAgB,SAAhB;AACD;AAyDC;;;;;;;0CAGiB;AACjB,UAAM,aAAa,GAAuB;AACxC,QAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEP,4CAA2B,OAAO,CAAC,GAAR,CAAY,oBAAvC;AAFO;AAD+B,OAA1C;AAOA,aAAO,GAAG,CAAC,CAAJ,CAAM,KAAN,CAAY,aAAZ,EAA2B;AAChC,QAAA,OAAO,EAAE;AACP,oCAA0B,OAAO,CAAC,GAAR,CAAY;AAD/B;AADuB,OAA3B,CAAP;AAKD;;;;;;SA7EkB,O","sourcesContent":["import axios, { AxiosResponse, AxiosInstance, AxiosRequestConfig } from 'axios'\nimport Vue from 'vue'\n\nexport default class CommApi {\n  bizAxios!: AxiosInstance\n  constructor (_bizAxios: AxiosInstance) {\n    this.bizAxios = _bizAxios\n  }\n\n  /**\n   * call axios by get method\n   */\n  get = (url: string, param?: any, reqConfig?: AxiosRequestConfig): Promise<AxiosResponse<any>> => {\n    // --- default config\n    const config: AxiosRequestConfig = {\n      params: param,\n      withCredentials: true\n    }\n    if (config) {\n      Object.assign(config, reqConfig)\n    }\n    return this.bizAxios.get(url, config)\n  }\n\n  /**\n   * call axios by post method\n   */\n  post = (url: string, param?: any, reqConfig?: AxiosRequestConfig): Promise<AxiosResponse<any>> | any => {\n    // --- default config\n    const config: AxiosRequestConfig = {\n      withCredentials: true\n    }\n    if (config) {\n      Object.assign(config, reqConfig)\n    }\n    return this.bizAxios.post(url, param, config)\n  }\n  /**\n   * call axios by put method\n   */\n  put = (url: string, param?: any, reqConfig?: AxiosRequestConfig): Promise<AxiosResponse<any>> | any => {\n    // --- default config\n    const config: AxiosRequestConfig = {\n      withCredentials: true\n    }\n    if (config) {\n      Object.assign(config, reqConfig)\n    }\n    return this.bizAxios.put(url, param, config)\n  }\n  /**\n   * call axios by delete method\n   */\n  delete = (url: string, param?: any, reqConfig?: AxiosRequestConfig): Promise<AxiosResponse<any>> | any => {\n    // --- default config\n    const config: AxiosRequestConfig = {\n      withCredentials: true\n    }\n    if (config) {\n      Object.assign(config, reqConfig)\n    }\n    return this.bizAxios.delete(url, config)\n  }\n  \n    /**\n   * 클래이플 Axios 기본 설정\n   */\n  getConfigForClayful (): AxiosRequestConfig {\n    const defaultConfig: AxiosRequestConfig = {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${process.env.VUE_APP_CLAYFUL_AUTH}`\n      }\n    }\n    \n    return Vue._.merge(defaultConfig, {\n      headers: {\n        'Authorization-Customer': process.env.VUE_APP_CLAYFUL_ADMIN_ID\n      }\n    })\n  }\n}\n"],"sourceRoot":""}]}