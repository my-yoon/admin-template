{"remainingRequest":"/Users/zzou/Documents/project/2020/brabbit-admin-template/node_modules/babel-loader/lib/index.js!/Users/zzou/Documents/project/2020/brabbit-admin-template/node_modules/ts-loader/index.js??ref--13-2!/Users/zzou/Documents/project/2020/brabbit-admin-template/src/helper/api/1.0.0/Order.ts","dependencies":[{"path":"/Users/zzou/Documents/project/2020/brabbit-admin-template/src/helper/api/1.0.0/Order.ts","mtime":1591668793119},{"path":"/Users/zzou/Documents/project/2020/brabbit-admin-template/node_modules/cache-loader/dist/cjs.js","mtime":1582363961748},{"path":"/Users/zzou/Documents/project/2020/brabbit-admin-template/node_modules/babel-loader/lib/index.js","mtime":1585275399303},{"path":"/Users/zzou/Documents/project/2020/brabbit-admin-template/node_modules/ts-loader/index.js","mtime":1585276838680}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvenpvdS9Eb2N1bWVudHMvcHJvamVjdC8yMDIwL2JyYWJiaXQtYWRtaW4tdGVtcGxhdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMvenpvdS9Eb2N1bWVudHMvcHJvamVjdC8yMDIwL2JyYWJiaXQtYWRtaW4tdGVtcGxhdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvVXNlcnMvenpvdS9Eb2N1bWVudHMvcHJvamVjdC8yMDIwL2JyYWJiaXQtYWRtaW4tdGVtcGxhdGUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IENvbW1BcGkgZnJvbSAnLi4vQ29tbUFwaSc7Cgp2YXIgT3JkZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Db21tQXBpKSB7CiAgX2luaGVyaXRzKE9yZGVyLCBfQ29tbUFwaSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoT3JkZXIpOwoKICBmdW5jdGlvbiBPcmRlcigpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT3JkZXIpOwoKICAgIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICBfdGhpcy5jb25maWcgPSB7CiAgICAgIGhlYWRlcnM6IHsKICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCYXNpYyBiWGxCY0hBNmNHRnpjdz09JwogICAgICB9CiAgICB9OwogICAgLyoqCiAgICAgKiDso7zrrLgg7KCV67O0IOyhsO2ajAogICAgICovCgogICAgX3RoaXMuZ2V0T3JkZXJMaXN0ID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdHlwZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJ29yZGVyJzsKICAgICAgdmFyIHBhcmFtID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7CiAgICAgIHZhciBwYWdpbmcgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICAgICAgdmFyIHNlYXJjaCA9ICcnOwogICAgICB2YXIgc3RhdHVzID0gJyc7CgogICAgICBpZiAodHlwZSA9PT0gJ29yZGVyJykgewogICAgICAgIHNlYXJjaCA9ICI/c29ydD1vcmRlcmVkQXQsZGVzYyZvcmRlclRhZ3NJbj1JTl9QUk9EJm9yZGVyU3RhcnRZbWQ9Ii5jb25jYXQocGFyYW0uc2RhdGUsICIgIikuY29uY2F0KHBhcmFtLnN0aW1lLCAiOjAwOjAwJm9yZGVyRW5kWW1kPSIpLmNvbmNhdChwYXJhbS5lZGF0ZSwgIiAiKS5jb25jYXQocGFyYW0uZXRpbWUsICI6MDA6MDAiKTsgLy8g7J247IeE7IaMIOyDge2DnCjrjIDquLAs7KCR7IiYLOuwmOugpCkg7KGw6rG0IOy2lOqwgAoKICAgICAgICBpZiAocGFyYW1bJ3N0YXR1cyddKSB7CiAgICAgICAgICBwYXJhbS5zdGF0dXMuZm9yRWFjaChmdW5jdGlvbiAoZCkgewogICAgICAgICAgICBzdGF0dXMgPSAiIi5jb25jYXQoc3RhdHVzLCAiJnByZXNzU3RhdHVzSW49IikuY29uY2F0KGQpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdldmVudCcpIHsKICAgICAgICBzZWFyY2ggPSAiP3NvcnQ9b3JkZXJlZEF0LGRlc2Mmb3JkZXJUYWdzSW49SU5fUFJPRCZvcmRlclN0YXJ0WW1kPSIuY29uY2F0KHBhcmFtLnNkYXRlLCAiICIpLmNvbmNhdChwYXJhbS5zdGltZSwgIjowMDowMCZvcmRlckVuZFltZD0iKS5jb25jYXQocGFyYW0uZWRhdGUsICIgIikuY29uY2F0KHBhcmFtLmV0aW1lLCAiOjAwOjAwJnByb2R1Y3RUeXBlPUVWRU5UIik7IC8vIOyduOyHhOyGjCDsg4Htg5wo64yA6riwLOygkeyImCzrsJjroKQpIOyhsOqxtCDstpTqsIAKCiAgICAgICAgaWYgKHBhcmFtWydzdGF0dXMnXSkgewogICAgICAgICAgcGFyYW0uc3RhdHVzLmZvckVhY2goZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgc3RhdHVzID0gIiIuY29uY2F0KHN0YXR1cywgIiZwcmVzc1N0YXR1c0luPSIpLmNvbmNhdChkKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBzZWFyY2ggPSAiP3NvcnQ9dXBkYXRlZEF0LGRlc2MmZnVsZmlsbG1lbnRTdGF0dXNJbj1zaGlwcGVkJmZ1bGZpbGxtZW50U3RhdHVzSW49YXJyaXZlZCZvcmRlclN0YXJ0WW1kPSIuY29uY2F0KHBhcmFtLnNkYXRlLCAiICIpLmNvbmNhdChwYXJhbS5zdGltZSwgIjowMDowMCZvcmRlckVuZFltZD0iKS5jb25jYXQocGFyYW0uZWRhdGUsICIgIikuY29uY2F0KHBhcmFtLmV0aW1lLCAiOjAwOjAwIik7CiAgICAgIH0gLy8gLS0tLS0tLS0KICAgICAgLy8g7Y6Y7J207KeVCgoKICAgICAgc2VhcmNoID0gIiIuY29uY2F0KHNlYXJjaCkuY29uY2F0KHN0YXR1cywgIiZzaXplPSIpLmNvbmNhdChwYWdpbmcuc2l6ZSwgIiZwYWdlPSIpLmNvbmNhdChwYWdpbmcucGFnZSk7CiAgICAgIHJldHVybiBfdGhpcy5nZXQoIi9wcmVzcy92MS9vcmRlcnMiLmNvbmNhdChzZWFyY2gpKTsKICAgIH07CiAgICAvKioKICAgICAqIOyduOyHhCDrjIDsg4Eg7YyM7J28IOuLpOyatOuhnOuTnAogICAgICovCgoKICAgIF90aGlzLmdldFByaW50RmlsZURvd25sb2FkVXJsID0gZnVuY3Rpb24gKGZpbGVObykgewogICAgICByZXR1cm4gX3RoaXMuZ2V0KCIvcHJlc3MvdjEvcHJlc3MtaW1ncy8iLmNvbmNhdChmaWxlTm8pKTsKICAgIH07CiAgICAvKioKICAgICAqIOyduOyHhOyGjCDso7zrrLggQWNjZXB0CiAgICAgKi8KCgogICAgX3RoaXMuYWNjZXB0T3JkZXJUb1ByaW50ID0gZnVuY3Rpb24gKG9yZGVyS2V5KSB7CiAgICAgIHJldHVybiBfdGhpcy5wdXQoIi9wcmVzcy92MS9vcmRlcnMvIi5jb25jYXQob3JkZXJLZXksICIvYWNjZXB0IikpOwogICAgfTsKICAgIC8qKgogICAgICog7J247IeE7IaMIOyjvOusuCByZWplY3QKICAgICAqLwoKCiAgICBfdGhpcy5yZWplY3RPcmRlclRvUHJpbnQgPSBmdW5jdGlvbiAob3JkZXJLZXkpIHsKICAgICAgcmV0dXJuIF90aGlzLnB1dCgiL3ByZXNzL3YxL29yZGVycy8iLmNvbmNhdChvcmRlcktleSwgIi9yZWplY3QiKSk7CiAgICB9OwogICAgLyoqCiAgICAgKiDsg4Htkogg7Lac6rOg7LKY66asCiAgICAgKi8KCgogICAgX3RoaXMudXBkYXRlRnVsZmlsbG1lbnQgPSBmdW5jdGlvbiAob3JkZXJLZXksIGNvbXBhbnksIHVpZCwgdXJsKSB7CiAgICAgIHZhciBwYXlsb2FkID0gewogICAgICAgIHN0YXR1czogJ3NoaXBwZWQnLAogICAgICAgIHRyYWNraW5nOiB7CiAgICAgICAgICBjb21wYW55OiBjb21wYW55LAogICAgICAgICAgdWlkOiAiIi5jb25jYXQodWlkKQogICAgICAgIH0KICAgICAgfTsKICAgICAgcmV0dXJuIF90aGlzLnB1dCgiL3ByZXNzL3YxL29yZGVycy8iLmNvbmNhdChvcmRlcktleSwgIi91cGRhdGVGdWxmaWxsbWVudCIpLCBwYXlsb2FkKTsKICAgIH07CgogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgcmV0dXJuIE9yZGVyOwp9KENvbW1BcGkpOwoKZXhwb3J0IHsgT3JkZXIgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["/Users/zzou/Documents/project/2020/brabbit-admin-template/src/helper/api/1.0.0/Order.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,OAAP,MAAoB,YAApB;;IAIqB,K;;;;;AAArB,mBAAA;AAAA;;AAAA;;;AACU,UAAA,MAAA,GAA6B;AACnC,MAAA,OAAO,EAAE;AACP,yBAAiB;AADV;AAD0B,KAA7B;AAMR;;;;AAGA,UAAA,YAAA,GAAe,YAAoH;AAAA,UAAnH,IAAmH,uEAAzE,OAAyE;AAAA,UAAhE,KAAgE;AAAA,UAApD,MAAoD;AACjI,UAAI,MAAM,GAAW,EAArB;AACA,UAAI,MAAM,GAAW,EAArB;;AACA,UAAI,IAAI,KAAK,OAAb,EAAsB;AACpB,QAAA,MAAM,oEAA6D,KAAK,CAAC,KAAnE,cAA4E,KAAK,CAAC,KAAlF,gCAA6G,KAAK,CAAC,KAAnH,cAA4H,KAAK,CAAC,KAAlI,WAAN,CADoB,CAEpB;;AACA,YAAI,KAAK,CAAC,QAAD,CAAT,EAAqB;AACnB,UAAA,KAAK,CAAC,MAAN,CAAa,OAAb,CAAqB,UAAC,CAAD,EAAc;AACjC,YAAA,MAAM,aAAM,MAAN,4BAA8B,CAA9B,CAAN;AACD,WAFD;AAGD;AACF,OARD,MAQO,IAAI,IAAI,KAAK,OAAb,EAAsB;AAC3B,QAAA,MAAM,oEAA6D,KAAK,CAAC,KAAnE,cAA4E,KAAK,CAAC,KAAlF,gCAA6G,KAAK,CAAC,KAAnH,cAA4H,KAAK,CAAC,KAAlI,6BAAN,CAD2B,CAE3B;;AACA,YAAI,KAAK,CAAC,QAAD,CAAT,EAAqB;AACnB,UAAA,KAAK,CAAC,MAAN,CAAa,OAAb,CAAqB,UAAC,CAAD,EAAc;AACjC,YAAA,MAAM,aAAM,MAAN,4BAA8B,CAA9B,CAAN;AACD,WAFD;AAGD;AACF,OARM,MAQA;AACL,QAAA,MAAM,wGAAiG,KAAK,CAAC,KAAvG,cAAgH,KAAK,CAAC,KAAtH,gCAAiJ,KAAK,CAAC,KAAvJ,cAAgK,KAAK,CAAC,KAAtK,WAAN;AACD,OArBgI,CAsBjI;AACA;;;AACA,MAAA,MAAM,aAAM,MAAN,SAAe,MAAf,mBAA8B,MAAM,CAAC,IAArC,mBAAkD,MAAM,CAAC,IAAzD,CAAN;AACA,aAAO,MAAK,GAAL,2BAA4B,MAA5B,EAAP;AACD,KA1BD;AA2BA;;;;;AAGA,UAAA,uBAAA,GAA0B,UAAC,MAAD,EAAgD;AACxE,aAAO,MAAK,GAAL,gCAAiC,MAAjC,EAAP;AACD,KAFD;AAGA;;;;;AAGA,UAAA,kBAAA,GAAqB,UAAC,QAAD,EAAkD;AACrE,aAAO,MAAK,GAAL,4BAA6B,QAA7B,aAAP;AACD,KAFD;AAGA;;;;;AAGA,UAAA,kBAAA,GAAqB,UAAC,QAAD,EAAkD;AACrE,aAAO,MAAK,GAAL,4BAA6B,QAA7B,aAAP;AACD,KAFD;AAGA;;;;;AAGA,UAAA,iBAAA,GAAoB,UAAC,QAAD,EAAmB,OAAnB,EAAoC,GAApC,EAAiD,GAAjD,EAA6F;AAC/G,UAAM,OAAO,GAAG;AACd,QAAA,MAAM,EAAE,SADM;AAEd,QAAA,QAAQ,EAAE;AAAE,UAAA,OAAO,EAAE,OAAX;AAAoB,UAAA,GAAG,YAAK,GAAL;AAAvB;AAFI,OAAhB;AAIA,aAAO,MAAK,GAAL,4BAA6B,QAA7B,yBAA2D,OAA3D,CAAP;AACD,KAND;;AA1DF;AAiEC;;;EAjEkC,O;;SAAd,K","sourcesContent":["import CommApi from '../CommApi'\nimport { AxiosResponse, AxiosRequestConfig } from 'axios'\nimport Response, { PagingModel } from '@/types/model/Response'\n\nexport default class Order extends CommApi {\n  private config: AxiosRequestConfig = {\n    headers: {\n      'Authorization': 'Basic bXlBcHA6cGFzcw=='\n    }\n  }\n\n  /**\n   * 주문 정보 조회\n   */\n  getOrderList = (type: 'order' | 'event' | 'fulfillment' = 'order', param: any, paging: PagingModel): Promise<AxiosResponse<any>> => {\n    let search: string = ''\n    let status: string = ''\n    if (type === 'order') {\n      search = `?sort=orderedAt,desc&orderTagsIn=IN_PROD&orderStartYmd=${param.sdate} ${param.stime}:00:00&orderEndYmd=${param.edate} ${param.etime}:00:00`\n      // 인쇄소 상태(대기,접수,반려) 조건 추가\n      if (param['status']) {\n        param.status.forEach((d: string) => {\n          status = `${status}&pressStatusIn=${d}`\n        })\n      }\n    } else if (type === 'event') {\n      search = `?sort=orderedAt,desc&orderTagsIn=IN_PROD&orderStartYmd=${param.sdate} ${param.stime}:00:00&orderEndYmd=${param.edate} ${param.etime}:00:00&productType=EVENT`\n      // 인쇄소 상태(대기,접수,반려) 조건 추가\n      if (param['status']) {\n        param.status.forEach((d: string) => {\n          status = `${status}&pressStatusIn=${d}`\n        })\n      }\n    } else {\n      search = `?sort=updatedAt,desc&fulfillmentStatusIn=shipped&fulfillmentStatusIn=arrived&orderStartYmd=${param.sdate} ${param.stime}:00:00&orderEndYmd=${param.edate} ${param.etime}:00:00`\n    }\n    // --------\n    // 페이징\n    search = `${search}${status}&size=${paging.size}&page=${paging.page}`\n    return this.get(`/press/v1/orders${search}`)\n  }\n  /**\n   * 인쇄 대상 파일 다운로드\n   */\n  getPrintFileDownloadUrl = (fileNo: string): Promise<AxiosResponse<any>> => {\n    return this.get(`/press/v1/press-imgs/${fileNo}`)\n  }\n  /**\n   * 인쇄소 주문 Accept\n   */\n  acceptOrderToPrint = (orderKey: string): Promise<AxiosResponse<any>> => {\n    return this.put(`/press/v1/orders/${orderKey}/accept`)\n  }\n  /**\n   * 인쇄소 주문 reject\n   */\n  rejectOrderToPrint = (orderKey: string): Promise<AxiosResponse<any>> => {\n    return this.put(`/press/v1/orders/${orderKey}/reject`)\n  }\n  /**\n   * 상품 출고처리\n   */\n  updateFulfillment = (orderKey: string, company: string, uid: string, url: string): Promise<AxiosResponse<any>> => {\n    const payload = {\n      status: 'shipped',\n      tracking: { company: company, uid: `${uid}` }\n    }\n    return this.put(`/press/v1/orders/${orderKey}/updateFulfillment`, payload)\n  }\n}\n"],"sourceRoot":""}]}